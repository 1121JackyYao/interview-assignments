#短域名

##控制层

###安全过滤-token
1、固定token串验证请求。

###重复请求-resubmit
1、根据客户端地址、请求服务URL，利用缓存（可过期），缓存请求内容，在某时间段内（缓存未过期）
    同样的请求内容，认为重复。

###限流请求-limitrequest
1、根据客户端地址、利用缓存存储该地址对应的限流规则，判断请求是否需要限流？

###功能请求
1、写-长转短域名 需要限流？
2、读-短转场域名 不需要？
3、短转场地址跳转


##服务层
###存储服务
1、JVM缓存存储
  1.1、LRU存储 老的数据可以淘汰掉
  1.2、多个LUR存储，降低存储压力。
  1.3、多个LUR存储，根据某个唯一值，进行下标换算，指定存储位置，查询时也可以根据下标快速查找
  1.4、单个LUR hash对象 减少扩容性能消耗，指定最大长度，控制扩容
2、持久化存储
  2.1、存储磁盘放肆，堆外内存映射磁盘文件，快速读写。
  2.2、映射文件创建固定大小占位，避免磁盘地址连续，影响读写性能
  2.3、映射最近读写文件指针、文件名在指定对象中，方便刷盘持久化
  2.5、写文件方式，异步刷盘
  2.6、突然kill服务 优雅停机 保证数据异步刷盘完成，数据不会丢失
  
###域名服务
  1、长域名生成短域名，地址映射限制8位
  2、根据需要生成的对象，产生唯一值，计算获取存储目标指针？
  3、域名转换快速获取

###算法和工具
  1、缓存工具，存储、限流、重复请求使用
  2、Hash槽算法，存储下标使用
  3、刷盘线程服务
  4、堆外映射文件读写基础服务
  5、长短域名计算生成算法




